{"version":3,"sources":["logo.png","components/utils/utils.js","components/pages/Login.js","components/pages/Home.js","images/carlogo.png","components/pages/Register.js","images/backarrow.svg","components/pages/NavigateUp.js","images/greenlock.svg","images/redlock.svg","images/car.png","components/pages/VehicleState.js","App.js","index.js"],"names":["isTokenExpired","token","Date","now","JSON","parse","atob","split","exp","Login","history","useHistory","useState","username","setUsername","password","setPassword","window","onload","localStorage","getItem","console","log","removeItem","push","logIn","e","a","preventDefault","axios","post","data","access_token","setItem","className","src","logo","alt","onSubmit","type","placeholder","value","id","onChange","target","required","to","Home","jsonDoc","base64","replace","jsonPayload","decodeURIComponent","map","c","charCodeAt","toString","slice","join","parseJwt","useEffect","carIds","vehicles","onClick","clear","item","pathname","carId","Register","registerasig","NavigateUp","width","height","backarrow","VehicleState","props","handleLockClick","lockVehicle","bind","handleUnLockClick","unLockVehicle","location","state","timestamp","locked","doorState","df_open","df_locked","pf_open","pf_locked","dr_open","dr_locked","pr_open","pr_locked","ft_open","ft_locked","rt_open","rt_locked","String","this","car","greenlock","tabIndex","redlock","reload","myHeaders","Headers","AuthStr","concat","append","fetch","headers","then","response","status","Error","res","json","result","setState","catch","err","url","method","r","Component","App","createBrowserHistory","basename","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99e71aa4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.b2cb48e0.png\";","export function parseJwt(token) {\r\n    const base64Url = token.split('.')[1];\r\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    const jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n    return JSON.parse(jsonPayload);\r\n}\r\n\r\nexport function isTokenExpired(token) {\r\n    return Date.now() >= (JSON.parse(atob(token.split('.')[1]))).exp * 1000;\r\n}\r\n","import React from 'react'\r\nimport logo from '../../logo.png';\r\nimport '../../App.css';\r\nimport {useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {isTokenExpired} from \"../utils/utils\";\r\n\r\nconst Login = () => {\r\n\r\n    let history = useHistory();\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    window.onload = function () {\r\n        let token = localStorage.getItem('Token');\r\n\r\n        if (token !== null && !isTokenExpired(token)) {\r\n            console.log(\"Valid token found\");\r\n            history.push(\"/home\");\r\n        } else {\r\n            console.log(\"Expired or no token\");\r\n            localStorage.removeItem('Token');\r\n        }\r\n    }\r\n\r\n    const logIn = async e => {\r\n        e.preventDefault();\r\n        let token = await axios.post(\r\n            \"https://h-178-174-162-51.a536.priv.bahnhof.se/auth/\", {\r\n\r\n                username,\r\n                password\r\n\r\n            }\r\n        );\r\n        /** @namespace data.access_token **/\r\n        let data = token.data;\r\n        console.log(data.access_token);\r\n        localStorage.setItem('Token', data.access_token);\r\n        history.push(\"/home\");\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"con\">\r\n                <header className=\"App-header\">\r\n                    <h1 className=\"h1\">\r\n                        ITHSC\r\n                    </h1>\r\n                    <img src={logo} className=\"App-logo\" alt=\"logo\"/>\r\n                </header>\r\n                <div className=\"login-con\">\r\n                    <form onSubmit={logIn}>\r\n                        <div className=\"username-div\">\r\n\r\n                            <label>\r\n                                <input type=\"text\" placeholder=\"Username:\" value={username} id=\"username\"\r\n                                       onChange={({target}) => setUsername(target.value)} required/>\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"Password-div\">\r\n                            <label>\r\n                                <input type=\"password\" placeholder=\"Password:\" id=\"password\" value={password}\r\n                                       onChange={({target}) => setPassword(target.value)} required/>\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <button type=\"submit\" className=\"login-button\">Login</button>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <p>Forgot your Password?</p>\r\n                <p><Link to=\"/register\" className=\"alink\"> New RegisterUser? Register Here </Link></p>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Login\r\n\r\n  \r\n  ","import React, {useEffect} from 'react'\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {isTokenExpired, parseJwt} from \"../utils/utils\";\r\nimport carlogo from '../../images/carlogo.png'\r\n\r\nimport '../../App.css';\r\nimport './Home.css';\r\n\r\nfunction Home() {\r\n    let history = useHistory();\r\n    let token = localStorage.getItem('Token');\r\n    let jsonDoc = parseJwt(token);\r\n\r\n    const clear = () => {\r\n        localStorage.clear();\r\n        history.push(\"/\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log('useEffect');\r\n        if (token != null && isTokenExpired(token)) {\r\n            localStorage.removeItem('Token');\r\n            history.push(\"/\");\r\n        }\r\n    });\r\n    /** @namespace jsonDoc.vehicles **/\r\n    let carIds = jsonDoc.vehicles;\r\n    console.log(carIds);\r\n\r\n    return (\r\n        <div>\r\n            <button type=\"submit\" className=\"logout\" onClick={clear}>Logga ut</button>\r\n            {\r\n                carIds.map((item) => <div className=\"linkPadding\" key={item}>\r\n                    <Link to={{pathname: '/lock', carId: item}}>\r\n                        <div>\r\n                            <img src={carlogo} alt={'Your car'}/>\r\n                        </div>\r\n                        {\"Car: \" + item}\r\n                    </Link>\r\n                </div>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","export default \"data:image/png;base64,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\"","import React from 'react'\r\nimport logo from '../../logo.png';\r\nimport '../../App.css';\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Register = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  \r\n  \r\n\r\n  const registerasig = async e => {\r\n    e.preventDefault();\r\n     await axios.post(\r\n      \"https://h-178-174-162-51.a536.priv.bahnhof.se/sign-up/\",{\r\n\r\n  username,\r\n  password \r\n \r\n   }  \r\n    );\r\n    \r\n   \r\n  };\r\n  \r\n  \r\n  \r\n \r\n    return (\r\n        <div>\r\n             <div className=\"con\">\r\n      <header className=\"App-header\">\r\n      <h1 className=\"h1\">\r\n         ITHSC\r\n        </h1>\r\n    \r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        \r\n      \r\n      </header>\r\n      <div className=\"login-con\">\r\n      <form onSubmit={registerasig}>\r\n        <div className=\"username-div\">\r\n        \r\n        <label>\r\n          <input type=\"email\" placeholder=\"Email:\" id=\"Mail\" value={username} onChange={({ target }) => setUsername(target.value)}  required/>\r\n        </label>\r\n</div>\r\n\r\n\r\n        <div className=\"Password-div\">\r\n        <label>\r\n          <input type=\"password\" placeholder=\"Password:\" id=\"password\" value={password} onChange={({ target }) => setPassword(target.value)} required/>\r\n        </label>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" className=\"login-button\">Registera</button>\r\n          \r\n        </div>\r\n      </form>\r\n    </div>\r\n   \r\n\r\n    </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Register\r\n","export default __webpack_public_path__ + \"static/media/backarrow.9939878d.svg\";","import React from 'react'\r\nimport backarrow from '../../images/backarrow.svg'\r\nimport {Link} from \"react-router-dom\";\r\nimport './NavigateUp.css';\r\n\r\nfunction NavigateUp() {\r\n    return (\r\n        <div className=\"yourCar\">\r\n            <Link to={'/home'}>\r\n                <img width={50} height={50} src={backarrow} alt={'Arrow for navigating back'}/>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavigateUp\r\n","export default __webpack_public_path__ + \"static/media/greenlock.1e16003c.svg\";","export default __webpack_public_path__ + \"static/media/redlock.92695db5.svg\";","export default __webpack_public_path__ + \"static/media/car.d107f261.png\";","import React, {Component} from 'react';\r\nimport NavigateUp from \"./NavigateUp\";\r\n\r\nimport greenlock from '../../images/greenlock.svg'\r\nimport redlock from '../../images/redlock.svg'\r\nimport car from '../../images/car.png'\r\n\r\nimport './VehicleState.css'\r\n\r\nclass VehicleState extends Component {\r\n    id=2;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleLockClick = this.lockVehicle.bind(this);\r\n        this.handleUnLockClick = this.unLockVehicle.bind(this);\r\n        this.id = props.location.carId;\r\n        if ( this.id == null )\r\n            this.id = 2;\r\n\r\n        this.state = {\r\n            carId: 2,\r\n            timestamp: 0,\r\n            locked: false,\r\n            doorState: {\r\n                df_open: false,\r\n                df_locked: true,\r\n                pf_open: false,\r\n                pf_locked: true,\r\n                dr_open: false,\r\n                dr_locked: true,\r\n                pr_open: false,\r\n                pr_locked: true,\r\n                ft_open: false,\r\n                ft_locked: true,\r\n                rt_open: false,\r\n                rt_locked: true\r\n            }\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Vehicle State for carId: {String(this.state.carId)}</h2>\r\n                <NavigateUp/>\r\n                <div className=\"container\">\r\n                    <div className=\"carImage\"><img className=\"car\" src={car} alt=\"\"/></div>\r\n                    <div className=\"driverDoor\">{this.state.doorState.df_locked\r\n                        ? <img alt=\"Green lock symbol, locked.\" src={greenlock} onClick={this.handleUnLockClick}\r\n                               tabIndex=\"0\"/>\r\n                        : <img alt=\"Red lock symbol, unlocked.\" src={redlock} onClick={this.handleLockClick}\r\n                               tabIndex=\"0\"/>\r\n                    }</div>\r\n                    <div className=\"passengerDoor\">{this.state.doorState.pf_locked\r\n                        ? <img alt=\"Green lock symbol, locked.\" src={greenlock} onClick={this.handleUnLockClick}\r\n                               tabIndex=\"1\"/>\r\n                        : <img alt=\"Red lock symbol, unlocked.\" src={redlock} onClick={this.handleLockClick}\r\n                               tabIndex=\"1\"/>\r\n                    }</div>\r\n                    <div className=\"driverRearDoor\">{this.state.doorState.dr_locked\r\n                        ? <img alt=\"Green lock symbol, locked.\" src={greenlock} onClick={this.handleUnLockClick}\r\n                               tabIndex=\"5\"/>\r\n                        : <img alt=\"Red lock symbol, unlocked.\" src={redlock} onClick={this.handleLockClick}\r\n                               tabIndex=\"5\"/>\r\n                    }</div>\r\n                    <div className=\"passengerRearDoor\">{this.state.doorState.pr_locked\r\n                        ? <img alt=\"Green lock symbol, locked.\" src={greenlock} onClick={this.handleUnLockClick}\r\n                               tabIndex=\"6\"/>\r\n                        : <img alt=\"Red lock symbol, unlocked.\" src={redlock} onClick={this.handleLockClick}\r\n                               tabIndex=\"6\"/>\r\n                    }</div>\r\n                    <div className=\"frontTrunk\">{this.state.doorState.ft_locked\r\n                        ? <img alt=\"Green lock symbol, locked.\" src={greenlock} onClick={this.handleUnLockClick}\r\n                               tabIndex=\"4\"/>\r\n                        : <img alt=\"Red lock symbol, unlocked.\" src={redlock} onClick={this.handleLockClick}\r\n                               tabIndex=\"4\"/>\r\n                    }</div>\r\n                    <div className=\"rearTrunk\">{this.state.doorState.rt_locked\r\n                        ? <img alt=\"Green lock symbol, locked.\" src={greenlock} onClick={this.handleUnLockClick}\r\n                               tabIndex=\"3\"/>\r\n                        : <img alt=\"Red lock symbol, unlocked.\" src={redlock} onClick={this.handleLockClick}\r\n                               tabIndex=\"3\"/>\r\n                    }</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.reload();\r\n    }\r\n\r\n    reload() {\r\n        let token = localStorage.getItem('Token');\r\n        const myHeaders = new Headers();\r\n        const AuthStr = 'Bearer '.concat(token);\r\n        myHeaders.append('Authorization', AuthStr);\r\n        //console.log(myHeaders.get('Authorization') );\r\n        fetch(`https://h-178-174-162-51.a536.priv.bahnhof.se/api/1/vehicles/${this.id}/data_request/vehicle_state/`,\r\n            {\r\n                headers: myHeaders\r\n            })\r\n            .then((response) => {\r\n                if (response.status !== 200) {\r\n                    throw new Error(response.status)\r\n                }\r\n                return response;\r\n            })\r\n            .then(res => res.json())\r\n            .then((result) => {\r\n                this.setState(result);\r\n            })\r\n            .catch(function (err) {\r\n                console.log(err);\r\n            });\r\n\r\n\r\n    }\r\n\r\n    lockVehicle() {\r\n        let url = `https://h-178-174-162-51.a536.priv.bahnhof.se/api/1/vehicles/${this.id}/command/door_lock`\r\n        fetch(url, {\r\n            method: 'POST'\r\n        })\r\n            .then(r => r.json())\r\n            .then(res => {\r\n                if (res) {\r\n                    console.log(`{message: \"Locked car ${this.id}\", response: ${res}`);\r\n                    this.reload();\r\n                }\r\n            });\r\n    }\r\n\r\n    unLockVehicle() {\r\n        let url = `https://h-178-174-162-51.a536.priv.bahnhof.se/api/1/vehicles/${this.id}/command/door_unlock`\r\n        fetch(url, {\r\n            method: 'POST'\r\n        })\r\n            .then(r => r.json())\r\n            .then(res => {\r\n                if (res) {\r\n                    console.log(`{message: \"UnLocked car ${this.id}\", response: ${res}`);\r\n                    this.reload();\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport default VehicleState;","import React from 'react';\r\nimport './App.css';\r\nimport {Router, Switch, Route} from 'react-router-dom';\r\nimport Login from './components/pages/Login';\r\nimport Home from './components/pages/Home';\r\nimport Register from './components/pages/Register';\r\nimport {createBrowserHistory} from 'history';\r\nimport VehicleState from './components/pages/VehicleState';\r\n\r\nfunction App() {\r\n  const history = createBrowserHistory({ basename: '/Remoteyourcar-1' })\r\n  return (\r\n \r\n\r\n<Router history={history}>\r\n        <Switch>\r\n          <Route path='/' exact component={Login} />\r\n          <Route path='/home' exact component={Home} />\r\n          <Route path='/register' exact component={Register} />\r\n          <Route path='/lock' exact component={VehicleState} />\r\n        </Switch>\r\n      </Router>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('App')\r\n);"],"sourceRoot":""}