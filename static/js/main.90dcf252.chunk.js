(this["webpackJsonpromete-your-car"]=this["webpackJsonpromete-your-car"]||[]).push([[0],{15:function(e,t,c){},44:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(32),o=c.n(s),r=(c(44),c(15),c(2)),l=c(10),i=c.n(l),d=c(16),h=c(11),j=c.p+"static/media/logo.b2cb48e0.png",b=c(17),u=c.n(b),k=c(8),p=c(0),m=function(){var e=Object(r.f)(),t=Object(n.useState)(""),c=Object(h.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(""),l=Object(h.a)(o,2),b=l[0],m=l[1];window.onload=function(){null!==localStorage.getItem("Token")&&e.push("/home")};var O=function(){var t=Object(d.a)(i.a.mark((function t(c){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,u.a.post("https://h-178-174-162-51.a536.priv.bahnhof.se/auth/",{username:a,password:b});case 3:n=t.sent,s=n.data,console.log(s.access_token),localStorage.setItem("Token",s.access_token),localStorage.getItem("Token")&&e.push("/home");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"con",children:[Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("h1",{className:"h1",children:"ITHSC"}),Object(p.jsx)("img",{src:j,className:"App-logo",alt:"logo"})]}),Object(p.jsx)("div",{className:"login-con",children:Object(p.jsxs)("form",{onSubmit:O,children:[Object(p.jsx)("div",{className:"username-div",children:Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"text",placeholder:"Username:",value:a,id:"username",onChange:function(e){var t=e.target;return s(t.value)},required:!0})})}),Object(p.jsx)("div",{className:"Password-div",children:Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"password",placeholder:"Password:",id:"password",value:b,onChange:function(e){var t=e.target;return m(t.value)},required:!0})})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",className:"login-button",children:"Login"})})]})}),Object(p.jsx)("p",{children:"Forgot your Password?"}),Object(p.jsx)("p",{children:Object(p.jsx)(k.a,{to:"/register",className:"alink",children:" New RegisterUser? Register Here "})})]})})};c(71);var O=function(){var e=Object(r.f)(),t=Object(r.g)();return t.path,t.url,Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{type:"submit",className:"logout",onClick:function(){localStorage.clear(),e.push("/")},children:"Logga ut"}),Object(p.jsx)("div",{className:"linkPadding",children:Object(p.jsx)(k.a,{to:{pathname:"/lock",carId:2},children:"Lock/Unlock Car"})})]})},x=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),o=Object(h.a)(s,2),r=o[0],l=o[1],b=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u.a.post("https://h-178-174-162-51.a536.priv.bahnhof.se/sign-up/",{username:c,password:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"con",children:[Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("h1",{className:"h1",children:"ITHSC"}),Object(p.jsx)("img",{src:j,className:"App-logo",alt:"logo"})]}),Object(p.jsx)("div",{className:"login-con",children:Object(p.jsxs)("form",{onSubmit:b,children:[Object(p.jsx)("div",{className:"username-div",children:Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"email",placeholder:"Email:",id:"Mail",value:c,onChange:function(e){var t=e.target;return a(t.value)},required:!0})})}),Object(p.jsx)("div",{className:"Password-div",children:Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"password",placeholder:"Password:",id:"password",value:r,onChange:function(e){var t=e.target;return l(t.value)},required:!0})})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",className:"login-button",children:"Registera"})})]})})]})})},v=c(37),g=c.n(v),f=c(35),C=c(36),y=c(14),N=c(39),S=c(38),I=(c(72),c.p+"static/media/greenlock.1e16003c.svg"),_=c.p+"static/media/redlock.92695db5.svg",w=c.p+"static/media/car.d107f261.png",L=function(e){Object(N.a)(c,e);var t=Object(S.a)(c);function c(e){var n;return Object(f.a)(this,c),(n=t.call(this,e)).handleLockClick=n.lockVehicle.bind(Object(y.a)(n)),n.handleUnLockClick=n.unLockVehicle.bind(Object(y.a)(n)),n.id=e.location.carId,n.state={carId:2,timestamp:0,locked:!1,doorState:{df_open:!1,df_locked:!1,pf_open:!1,pf_locked:!0,dr_open:!1,dr_locked:!0,pr_open:!1,pr_locked:!0,ft_open:!1,ft_locked:!0,rt_open:!1,rt_locked:!0}},n}return Object(C.a)(c,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Vehicle State.."}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"carId : "}),String(this.state.carId)]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"locked : "}),String(this.state.doorState.df_locked)]}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"carImage",children:Object(p.jsx)("img",{className:"car",src:w,alt:""})}),Object(p.jsx)("div",{className:"driverDoor",children:this.state.doorState.df_locked?Object(p.jsx)("img",{alt:"Green lock symbol, locked.",src:I,onClick:this.handleUnLockClick,tabIndex:"0"}):Object(p.jsx)("img",{alt:"Red lock symbol, unlocked.",src:_,onClick:this.handleLockClick,tabIndex:"0"})}),Object(p.jsx)("div",{className:"passengerDoor",children:this.state.doorState.pf_locked?Object(p.jsx)("img",{alt:"Green lock symbol, locked.",src:I,onClick:this.handleUnLockClick,tabIndex:"1"}):Object(p.jsx)("img",{alt:"Red lock symbol, unlocked.",src:_,onClick:this.handleLockClick,tabIndex:"1"})}),Object(p.jsx)("div",{className:"driverRearDoor",children:this.state.doorState.dr_locked?Object(p.jsx)("img",{alt:"Green lock symbol, locked.",src:I,onClick:this.handleUnLockClick,tabIndex:"5"}):Object(p.jsx)("img",{alt:"Red lock symbol, unlocked.",src:_,onClick:this.handleLockClick,tabIndex:"5"})}),Object(p.jsx)("div",{className:"passengerRearDoor",children:this.state.doorState.pr_locked?Object(p.jsx)("img",{alt:"Green lock symbol, locked.",src:I,onClick:this.handleUnLockClick,tabIndex:"6"}):Object(p.jsx)("img",{alt:"Red lock symbol, unlocked.",src:_,onClick:this.handleLockClick,tabIndex:"6"})}),Object(p.jsx)("div",{className:"frontTrunk",children:this.state.doorState.ft_locked?Object(p.jsx)("img",{alt:"Green lock symbol, locked.",src:I,onClick:this.handleUnLockClick,tabIndex:"4"}):Object(p.jsx)("img",{alt:"Red lock symbol, unlocked.",src:_,onClick:this.handleLockClick,tabIndex:"4"})}),Object(p.jsx)("div",{className:"rearTrunk",children:this.state.doorState.rt_locked?Object(p.jsx)("img",{alt:"Green lock symbol, locked.",src:I,onClick:this.handleUnLockClick,tabIndex:"3"}):Object(p.jsx)("img",{alt:"Red lock symbol, unlocked.",src:_,onClick:this.handleLockClick,tabIndex:"3"})})]})]})}},{key:"componentDidMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this,t=localStorage.getItem("Token"),c=new Headers,n="Bearer ".concat(t);c.append("Authorization",n),fetch("https://h-178-174-162-51.a536.priv.bahnhof.se/api/1/vehicles/".concat(this.id,"/data_request/vehicle_state/"),{headers:c}).then((function(e){if(200!==e.status)throw new Error(e.status);return e})).then((function(e){return e.json()})).then((function(t){e.setState(t)})).catch((function(e){console.log(e)}))}},{key:"lockVehicle",value:function(){var e=this,t="https://h-178-174-162-51.a536.priv.bahnhof.se/api/1/vehicles/".concat(this.id,"/command/door_lock");fetch(t,{method:"POST"}).then((function(e){return e.json()})).then((function(t){t&&(console.log('{message: "Locked car '.concat(e.id,'", response: ').concat(t)),e.reload())}))}},{key:"unLockVehicle",value:function(){var e=this,t="https://h-178-174-162-51.a536.priv.bahnhof.se/api/1/vehicles/".concat(this.id,"/command/door_unlock");fetch(t,{method:"POST"}).then((function(e){return e.json()})).then((function(t){t&&(console.log('{message: "UnLocked car '.concat(e.id,'", response: ').concat(t)),e.reload())}))}}]),c}(n.Component);var R=function(){var e=g()({basename:"/Remoteyourcar-1"});return Object(p.jsx)(r.b,{history:e,children:Object(p.jsxs)(r.c,{children:[Object(p.jsx)(r.a,{path:"/",exact:!0,component:m}),Object(p.jsx)(r.a,{path:"/home",exact:!0,component:O}),Object(p.jsx)(r.a,{path:"/register",exact:!0,component:x}),Object(p.jsx)(r.a,{path:"/lock",exact:!0,component:L})]})})};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(R,{})}),document.getElementById("App"))}},[[76,1,2]]]);
//# sourceMappingURL=main.90dcf252.chunk.js.map